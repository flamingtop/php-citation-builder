<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>README.md</title>

</head>

<body>

<h1>Build Citation Text from a spec template</h1>

<pre><code>so tedious string concatenation can be avoided
</code></pre>

<h2>How to use</h2>

<pre><code>require("CitationBuilder.php");
use \CitationBuilder\CitationBuilder;

$spec = {@title}{, by @author}{, @co_author}{, published by @publisher{, @publication_year}};

$data = array(
  'title' =&gt; 'A Brief History of Time'
  'author' =&gt; 'Stephen Hawking',
  'co_author' =&gt; NULL,
  'publisher' =&gt; 'Bantam',
  'publication_year' =&gt; '1998'
);

$cb = new CitationBuilder($spec, $data);

$citation = $cb-&gt;build();

Output:

"A Brief History of Time, by Stephen Hawking, published by Bantam, 1998"
</code></pre>

<h2>Concepts and Syntax</h2>

<ul>
<li>Spec</li>
</ul>

<blockquote>
  <p>{@title}{, by @author}{, @co_author}{, published by @publisher{, @publication_year}}</p>
</blockquote>

<ul>
<li>Segements</li>
</ul>

<blockquote>
  <ul>
<li>{@title}</li>
<li>{, by @author}</li>
<li>{, @co_author}</li>
<li>{, published by @publisher{, @publication_year}}</li>
<li>{, @publication_year}</li>
</ul>
</blockquote>

<ul>
<li>Tokens</li>
</ul>

<blockquote>
  <ul>
<li>@title</li>
<li>@author</li>
<li>@co_author</li>
<li>@publisher</li>
<li>@publication_year</li>
</ul>
</blockquote>

<ul>
<li>Keys</li>
</ul>

<blockquote>
  <ul>
<li>title </li>
<li>author</li>
<li>co_author</li>
<li>publisher</li>
<li>@publication_year</li>
</ul>
</blockquote>

<ul>
<li>Data</li>
</ul>

<blockquote>
<pre><code>array(
   'title' =&gt; 'A Brief History of Time'
   'author' =&gt; 'Stephen Hawking',
   'co_author' =&gt; NULL,
   'publisher' =&gt; 'Bantam',
   'publication_year' =&gt; '1998'
 );
</code></pre>
</blockquote>

<ul>
<li>Relationships</li>
</ul>

<blockquote>
  <ul>
<li><p>Managed Segments</p>

<p>KEY title MANAGES {@title} SEGMENT, if title doesn't have a textual value in DATA, then the whole SEGEMENT is omitted by the builder</p></li>
<li><p>Nested Segments</p>

<p>SEGMENT {, published by @publisher{, @publication_year}} is NESTED</p>

<pre><code>   In which KEY publisher manages the outer SEGMENT and KEY publication_year manages the inner SEGMENT
</code></pre></li>
</ul>
</blockquote>

</body>
</html>
